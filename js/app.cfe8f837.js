(function(t){function e(e){for(var n,i,o=e[0],c=e[1],l=e[2],h=0,p=[];h<o.length;h++)i=o[h],Object.prototype.hasOwnProperty.call(a,i)&&a[i]&&p.push(a[i][0]),a[i]=0;for(n in c)Object.prototype.hasOwnProperty.call(c,n)&&(t[n]=c[n]);u&&u(e);while(p.length)p.shift()();return r.push.apply(r,l||[]),s()}function s(){for(var t,e=0;e<r.length;e++){for(var s=r[e],n=!0,o=1;o<s.length;o++){var c=s[o];0!==a[c]&&(n=!1)}n&&(r.splice(e--,1),t=i(i.s=s[0]))}return t}var n={},a={app:0},r=[];function i(e){if(n[e])return n[e].exports;var s=n[e]={i:e,l:!1,exports:{}};return t[e].call(s.exports,s,s.exports,i),s.l=!0,s.exports}i.m=t,i.c=n,i.d=function(t,e,s){i.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:s})},i.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},i.t=function(t,e){if(1&e&&(t=i(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var s=Object.create(null);if(i.r(s),Object.defineProperty(s,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var n in t)i.d(s,n,function(e){return t[e]}.bind(null,n));return s},i.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return i.d(e,"a",e),e},i.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},i.p="/taxes-calculator/";var o=window["webpackJsonp"]=window["webpackJsonp"]||[],c=o.push.bind(o);o.push=e,o=o.slice();for(var l=0;l<o.length;l++)e(o[l]);var u=c;r.push([0,"chunk-vendors"]),s()})({0:function(t,e,s){t.exports=s("56d7")},"56d7":function(t,e,s){"use strict";s.r(e);s("99af"),s("4de4"),s("d3b7"),s("25f0"),s("e260"),s("e6cf"),s("cca6"),s("a79d");var n=s("2b0e"),a=s("287d"),r=s.n(a),i=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{attrs:{id:"app"}},[t._m(0),s("div",{staticClass:"content"},[s("form",{attrs:{autocomplete:"off"}},[s("div",{staticClass:"row"},[s("div",{staticClass:"w-info"},[s("ui-switch",{attrs:{label:"Frais réels"},on:{change:function(e){return t.calcTaxesFromGrossIncome()}},model:{value:t.useRealCharges,callback:function(e){t.useRealCharges=e},expression:"useRealCharges"}}),s("div",{staticClass:"info"},[s("ui-icon",{attrs:{icon:"info"}}),s("ui-tooltip",{attrs:{position:"right",animation:"scale"}},[s("p",[t._v("Par défaut, une déduction forfaitaire de 10% est appliquée par revenu et est au minimum égale à 441€ et au maximum à 12627€. ")]),s("p",[t._v("Vous avez la possibilité, à la place de cette déduction automatique, de déduire vos frais réels. ")])])],1)],1),t.useRealCharges?s("ui-textbox",{attrs:{value:t.charges,name:"charges",placeholder:"0",label:"Frais réels","icon-position":"right",icon:"euro"},on:{input:function(e){var s=arguments.length,n=Array(s);while(s--)n[s]=arguments[s];return t.checkInputAndCalc.apply(void 0,n.concat(["charges"]))}}}):t._e()],1),s("div",{staticClass:"row"},[s("ui-textbox",{attrs:{value:t.income,name:"income",placeholder:"0",label:"Revenus net imposables","icon-position":"right",icon:"euro"},on:{input:function(e){var s=arguments.length,n=Array(s);while(s--)n[s]=arguments[s];return t.checkInputAndCalc.apply(void 0,n.concat(["income"]))}}}),s("ui-textbox",{staticClass:"opacity",attrs:{value:t.grossIncomeWithoutCharges,name:"income",placeholder:"0",label:"Après déduction","icon-position":"right",icon:"euro",disabled:""}})],1),s("div",{staticClass:"row"},[s("ui-switch",{attrs:{label:"Marié / Pacsé"},on:{change:function(e){t.calcTaxesFromGrossIncome(parseInt(t.income)||0)}},model:{value:t.married,callback:function(e){t.married=e},expression:"married"}}),s("ui-textbox",{attrs:{value:t.children,name:"children",placeholder:"0",label:"Enfants","icon-position":"right",icon:"child_care",type:"number"},on:{input:function(e){var s=arguments.length,n=Array(s);while(s--)n[s]=arguments[s];return t.checkInputAndCalc.apply(void 0,n.concat(["children"]))}}})],1),s("div",{staticClass:"row"},[s("ui-textbox",{staticClass:"with-info",attrs:{value:t.taxes,name:"taxes",placeholder:"0","icon-position":"right",icon:"euro"},on:{input:function(e){var s=arguments.length,n=Array(s);while(s--)n[s]=arguments[s];return t.checkInputAndCalc.apply(void 0,n.concat(["taxes"]))}}},[s("span",[t._v("Impôts")]),s("div",{staticClass:"info"},[s("ui-icon",{attrs:{icon:"info"}}),s("ui-tooltip",{attrs:{position:"right",animation:"scale"}},[s("p",[t._v("Vous pouvez entrer des impôts dans cette case afin de connaître les revenus net imposables ansi que les revenus nets correspondants. ")]),s("p",[t._v("Les plafonds de déduction pour les enfants ne sont pas implémentés pour les calculs effectués à partir de cette case. ")])])],1)]),t.displayTaxesWithoutChildrenMax&&t.halfParts&&t.taxes!==t.taxesWithoutChildrenMax?s("ui-textbox",{staticClass:"with-info",attrs:{id:"taxes-without-children-max",value:t.taxesWithoutChildrenMax,name:"taxes-without-children-max",placeholder:"0",label:"Sans plafonds","icon-position":"right",icon:"euro",disabled:""},on:{input:function(e){var s=arguments.length,n=Array(s);while(s--)n[s]=arguments[s];return t.checkInputAndCalc.apply(void 0,n.concat(["taxes"]))}}},[s("span",[t._v("Sans plafonds")]),s("div",{staticClass:"info"},[s("ui-icon",{attrs:{icon:"info"}}),s("ui-tooltip",{attrs:{position:"right",animation:"scale"}},[s("p",[t._v("Les 2 premiers enfants comptent pour une demi-part chacun et les suivants pour 2 demi-parts chacun. La réduction d'impôts est plafonnée à 1 567 € par demi-part. ")]),s("p",[t._v("À titre purement informatif, le nombre inscrit dans cette case correspond à l'impôt tel qu'il aurait été si ce plafond n'était pas pris en compte. ")])])],1)]):t._e()],1),s("div",{staticClass:"row"},[s("ui-textbox",{staticClass:"with-info",attrs:{value:t.netIncome,name:"net",placeholder:"0","icon-position":"right",icon:"euro"},on:{input:function(e){var s=arguments.length,n=Array(s);while(s--)n[s]=arguments[s];return t.checkInputAndCalc.apply(void 0,n.concat(["netIncome"]))}}},[s("span",[t._v("Revenus nets")]),s("div",{staticClass:"info"},[s("ui-icon",{attrs:{icon:"info"}}),s("ui-tooltip",{attrs:{position:"right",animation:"scale"}},[s("p",[t._v("Vous pouvez entrer des revenus nets dans cette case afin de connaître les revenus net imposables ansi que les impôts correspondants. ")]),s("p",[t._v("Les plafonds de déduction pour les enfants ne sont pas implémentés pour les calculs effectués à partir de cette case. ")])])],1)])],1)]),s("TaxGraphic",{attrs:{brackets:t.bTaxes}})],1),s("div",{staticClass:"bottom"},[t.income||0===t.income?[s("p",[t._v("Vous avez "),s("span",[t._v(t._s(t._f("formatEuros")(t.taxes)))]),t._v(" d'impôts à payer")]),s("p",[t._v("Vos revenus nets s'établissent à "),s("span",[t._v(t._s(t._f("formatEuros")(t.netIncome)))])])]:t._e()],2)])},o=[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"header"},[s("h1",[t._v("Calculateur d'impôt sur le revenu")])])}],c=(s("c740"),s("d81d"),s("13d5"),s("fb6a"),s("a9e3"),s("aff5"),s("2909")),l=s("3835"),u=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"tax-details"},[s("div",{staticClass:"graph"},[s("div",{staticClass:"overlay",style:{height:t.overlayHeight}}),s("div",{staticClass:"step step-5"},[s("div",{staticClass:"step-pourcentage"},[t._v("45%")]),s("div",{staticClass:"step-tax"},[t._v(" "+t._s(t.bracketsFormatted[4][0])+" "),s("sup",[t._v(t._s(t.bracketsFormatted[4][1]))])])]),s("div",{staticClass:"step step-4"},[t._m(0),s("div",{staticClass:"step-pourcentage"},[t._v("41%")]),s("div",{staticClass:"step-tax"},[t._v(" "+t._s(t.bracketsFormatted[3][0])+" "),s("sup",[t._v(t._s(t.bracketsFormatted[3][1]))])])]),s("div",{staticClass:"step step-3"},[t._m(1),s("div",{staticClass:"step-pourcentage"},[t._v("30%")]),s("div",{staticClass:"step-tax"},[t._v(t._s(t.bracketsFormatted[2][0])+" "),s("sup",[t._v(t._s(t.bracketsFormatted[2][1]))])])]),s("div",{staticClass:"step step-2"},[t._m(2),s("div",{staticClass:"step-pourcentage"},[t._v("11%")]),s("div",{staticClass:"step-tax"},[t._v(t._s(t.bracketsFormatted[1][0])+" "),s("sup",[t._v(t._s(t.bracketsFormatted[1][1]))])])]),t._m(3)])])},h=[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"step-price-max"},[s("b",[t._v("157 806€")])])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"step-price-max"},[s("b",[t._v("73 369€")])])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"step-price-max"},[s("b",[t._v("25 659€")])])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"step step-1"},[s("div",{staticClass:"step-price-max"},[s("b",[t._v("10 064€")])]),s("div",{staticClass:"step-pourcentage"},[t._v("0%")]),s("div",{staticClass:"step-tax"},[t._v("0€ "),s("sup",[t._v("00")])])])}],p=(s("cb29"),s("ac1f"),s("843c"),s("1276"),{name:"tax-graphic",props:{brackets:Array},computed:{bracketsFormatted:function(){var t=this;return[].concat(Object(c["a"])(this.brackets),Object(c["a"])(new Array(5-this.brackets.length).fill(0))).map((function(e){var s=e.toString().split(".");return[t.$root.$options.filters.formatEuros(s[0]),s.length>1?s[1].substr(0,2).padEnd(2,"0"):"00"]}))},overlayHeight:function(){return"".concat(100-20*this.brackets.length,"%")}}}),d=p,m=(s("6a80"),s("2877")),f=Object(m["a"])(d,u,h,!1,null,"a0e6a256",null),v=f.exports,x=[10064,25659,73369,157806,Number.MAX_SAFE_INTEGER],b=[0,.11,.3,.41,.45],g=x.map((function(t,e,s){return t-(s[e-1]||0)})),_=g.map((function(t,e){return t*b[e]})),C={name:"App",components:{TaxGraphic:v},data:function(){return{income:"",useRealCharges:!1,charges:"",children:0,married:!1,taxes:"",taxesWithoutChildrenMax:"",displayTaxesWithoutChildrenMax:!1,netIncome:"",bTaxes:[]}},mounted:function(){window.calculator=this},methods:{reset:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";this.income=t,this.taxes=t,this.taxesWithoutChildrenMax=t,this.netIncome=t,this.bTaxes=[]},tests:function(){this.children=0,this.married=!1,this.test(1),this.married=!0,this.test(2),this.children=1,this.test(2.5),this.children=3,this.test(4)},test:function(t){var e=this;console.log("----------------   TEST ".concat(t," PART ----------------")),console.log("married ".concat(this.married?"true":"false",", children ").concat(this.children));var s=[5e3/.9,25500/.9,73300/.9,175e3,257500/.9,35e4/.9,55e4/.9,85e4/.9],n=s.map((function(t){return Math.round(t)})),a=[],r=n.map((function(s,n){var r;e.useRealCharges?(console.log("HERE"),r=s-e.charges):r=s-.9*s>12627*e.nbIncome?s-12627*e.nbIncome:.9*s;var i=t>2?e.calcTaxes(r).taxes:e.calcTaxesFromGrossIncome(r);return a[n]=s-i,i})),i=r.map((function(t){return e.taxes=t,e.calcGrossIncomeFromTaxes(),e.income})),o=a.map((function(t){return e.netIncome=t,e.calcGrossIncomeFromNet(),e.income}));console.log("income",n),console.log("from taxes",i),console.log("from net",o),console.log("-----------------------------------------------")},checkInputAndCalc:function(t,e){var s=this;if(/^[0-9]+$/.test(t))switch(this[e]=parseInt(t,10),e){case"income":case"charges":case"children":this.calcTaxesFromGrossIncome();break;case"taxes":this.calcGrossIncomeFromTaxes();break;case"netIncome":this.calcGrossIncomeFromNet();break;default:}else{var n="children"!==e&&"charges"!==e;n?this.reset(null):this[e]=null,this.$nextTick((function(){n?s.reset():(s[e]="children"===e?0:"",s.calcTaxesFromGrossIncome())}))}},calcTaxesFromGrossIncome:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.grossIncomeWithoutCharges,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.parts,s=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];if(!t)return 0;this.displayTaxesWithoutChildrenMax=!0;var n=this.calcTaxes(t,this.nbIncome),a=n.taxes,r=this.calcTaxes(t,e),i=r.taxes,o=r.taxesPerBracket;this.taxesWithoutChildrenMax=i;var c=1567*this.halfParts;return i=this.halfParts&&a-i>c?a-c:i,s&&(this.bTaxes=o,this.taxes=i,this.netIncome=this.income-i),i},calcTaxes:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.grossIncomeWithoutCharges,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.parts,s=t/e,n=x.findIndex((function(t){return t>=s})),a=x.slice(0,n+1).map((function(t,n,a){return Math.max(0,Math.min(s,t)-(a[n-1]||t))*b[n]*e})),r=Math.round((a.length?a:[0]).reduce((function(t,e){return t+e})));return{taxesPerBracket:a,taxes:r,net:t/.9-r}},calcGrossIncomeFromNet:function(){if(this.netIncome){this.displayTaxesWithoutChildrenMax=!1;var t=0,e=0;if(this.useRealCharges){var s=this.calcGrossIncomeFromNetAndCharges(this.charges),n=Object(l["a"])(s,2);t=n[0],e=n[1]}else{var a=this.calcGrossIncomeFromNetAndCharges(),r=Object(l["a"])(a,2);if(t=r[0],e=r[1],.1*t>12627*this.nbIncome){var i=this.calcGrossIncomeFromNetAndCharges(12627*this.nbIncome),o=Object(l["a"])(i,2);t=o[0],e=o[1]}}this.income=t,this.bTaxes=e,this.taxes=this.income-this.netIncome}else this.reset()},calcGrossIncomeFromNetAndCharges:function(){var t,e=this,s=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,n=null===s?x.map((function(t,s){return Math.round((t/.9-_.slice(0,s+1).reduce((function(t,e){return t+e})))*e.parts)})):x.map((function(t){return(t+s-e.calcTaxes(t-s,1).taxes)*e.parts})),a=Math.max(0,n.findIndex((function(t){return t>=e.netIncome})));if(0===a)return[this.netIncome,[0]];var r=_.slice(0,Math.max(0,a)).map((function(t){return t})),i=b[a],o=r.reduce((function(t,e){return t+e})),l=x[a-1];null===s?t=(this.netIncome+this.parts*(o-l*i))/(1-.9*i):(t=(this.netIncome+this.parts*(o-l*i)-s*i)/(1-i),t=t-s<=x[0]?this.netIncome:t);var u=Object(c["a"])(r.map((function(t){return t*e.parts})));return u.push(t-this.netIncome-u.reduce((function(t,e){return t+e}))),[Math.round(t),u]},calcGrossIncomeFromTaxes:function(){var t=this;if(this.displayTaxesWithoutChildrenMax=!1,this.taxes){var e=_.map((function(e){return e*t.parts}));this.bTaxes=[0],e.reduce((function(e,s,n){if(e<t.taxes)if(e+s>=t.taxes){var a=x[n-1]||0,r=(t.taxes-e)/s*(x[n]-a);if(t.bTaxes.push(t.taxes-e),t.useRealCharges)t.income=Math.round(t.parts*(r+a))+t.charges;else{var i=Math.round(t.bTaxes.reduce((function(t,e,s){return t+e/b[s]}))+x[0]*t.parts);i/.9-i>12627*t.nbIncome?t.income=i+12627*t.nbIncome:t.income=Math.round(i/.9),t.netIncome=t.income-t.taxes}}else t.bTaxes.push(s);return e+s}))}else this.reset()}},computed:{parts:function(){return this.nbIncome+(this.children>2?this.children-1:.5*this.children)},halfParts:function(){return 2*(this.parts-this.nbIncome)},nbIncome:function(){return this.married?2:1},grossIncome:function(){return this.income||0},grossIncomeWithoutCharges:function(){var t=this.useRealCharges?Math.max(0,this.charges):Math.max(441*this.nbIncome,Math.min(12627*this.nbIncome,Math.round(.1*this.grossIncome)));return Math.max(0,this.grossIncome-t)}}},I=C,y=(s("5c0b"),Object(m["a"])(I,i,o,!1,null,null,null)),T=y.exports;s("1fff");n["a"].use(r.a),n["a"].config.productionTip=!1,n["a"].filter("formatEuros",(function(t){for(var e="string"===typeof t?t:t.toString(),s=e.length-3;s>0;s-=3)e="".concat(e.substr(0,s)," ").concat(e.substr(s));return"".concat(e,"€")})),new n["a"]({render:function(t){return t(T)}}).$mount("#app")},"5c0b":function(t,e,s){"use strict";var n=s("9c0c"),a=s.n(n);a.a},"6a80":function(t,e,s){"use strict";var n=s("d093"),a=s.n(n);a.a},"9c0c":function(t,e,s){},d093:function(t,e,s){}});
//# sourceMappingURL=app.cfe8f837.js.map